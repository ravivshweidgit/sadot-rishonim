# יצירת סצנות מ-AI - Scene Generation from AI

## איך AI יבנה סצנות משני הספרים?

### תהליך העבודה

#### שלב 1: חילוץ סצנות (✅ הושלם)
הסקריפט `extract_scenes.py` קורא את שני הספרים ומזהה:
- דמויות (יוסף, מורייה, יהודה, רוחמה, וכו')
- מקומות (מטולה, יפו, נהלל, וכו')
- תאריכים (1904, 1920, וכו')
- אירועים ופעולות

**תוצאה:** `scenes.json` עם 195 סצנות נפרדות

#### שלב 2: מיזוג סצנות (✅ הושלם)
הסקריפט `merge_scenes_from_books.py` מזהה סצנות שמתארות את אותו אירוע משני הספרים וממזג אותן:

**דוגמה:**
- **סצנה מ"שדות ראשונים":** "יהודה עלה ארצה כילד ב-1904..."
- **סצנה מ"בית מרקובסקי":** "בעיצומו של חורף תרס\"ד (1904) עגנה אוניה בחוף יפו..."

**תוצאה:** סצנה אחת משולבת עם מידע משני הספרים

#### שלב 3: יצירת Prompts ל-AI
כל סצנה משולבת מקבלת **AI Prompt מפורט** שכולל:

1. **מידע בסיסי:**
   - שנה, מקום, דמויות
   - מצב רוח (mood)
   - פעולה מרכזית

2. **מידע ויזואלי:**
   - תכונות המקום (מתמונות ארכיון)
   - גילאי הדמויות (ילד/נער/מבוגר)
   - סגנון לבוש וסביבה היסטורית

3. **הוראות ל-AI:**
   - איך ליצור את הסצנה
   - איזה תמונות רפרנס להשתמש
   - איך לשמור על עקביות דמויות

### דוגמה ל-AI Prompt שנוצר:

```
Scene: העלייה לארץ
Year: 1904
Location: jaffa
Mood: historical

Characters:
  - יהודה מרקובסקי (child): בן המשפחה, מחבר "שדות ראשונים"
  - יוסף מרקובסקי (adult): אב המשפחה, מורה

Visual Setting:
  Location: jaffa
  Features: נמל, סירות, ספנים ערבים, אוניות
  Time period: 1904s
  Atmosphere: historical, early 20th century Palestine
  Action: arrival

Source Material (from books):
  Books: sadot_rishonim, beit_markovski
  Text excerpt: בעיצומו של חורף תרס"ד (1904) עגנה אוניה בחוף ימה של יפו...

Instructions for AI Video Generation:
  1. Create a scene showing: arrival
  2. Include characters: yehuda, yosef
  3. Set in: jaffa (1904)
  4. Mood: historical
  5. Use historical accuracy for clothing, buildings, and environment
  6. Reference archive photos for location accuracy
  7. Use learned face models for character consistency
```

### איך AI משתמש בזה?

#### תהליך יצירת וידאו:

1. **קריאת הסצנה המשולבת:**
   - AI קורא את ה-AI Prompt
   - מבין את הדמויות, המקום, והזמן

2. **בחירת תמונות רפרנס:**
   - תמונות פנים של הדמויות (מ-`data/faces/`)
   - תמונות ארכיון של המקום (מ-`data/locations/`)

3. **יצירת הסצנה:**
   - AI יוצר רקע מהתמונות הארכיון
   - AI מוסיף דמויות עם הפנים המזוהות
   - AI מתאים את הסגנון לתקופה (1900-1921)

4. **שמירה על עקביות:**
   - שימוש באותן תמונות פנים לכל דמות
   - שמירה על סגנון ויזואלי אחיד
   - דיוק היסטורי (בגדים, מבנים, סביבה)

### יתרונות המיזוג:

1. **מידע עשיר יותר:**
   - כל סצנה מכילה מידע משני הספרים
   - פרטים נוספים על הדמויות והאירועים

2. **דיוק גבוה יותר:**
   - השוואה בין שני מקורות
   - אימות פרטים

3. **תיאור מלא יותר:**
   - נקודות מבט שונות על אותו אירוע
   - פרטים שלא מופיעים בספר אחד

### דוגמאות לסצנות משולבות:

#### סצנה 1: העלייה לארץ (1904)
- **מ"שדות ראשונים":** זכרונות של יהודה כילד
- **מ"בית מרקובסקי":** תיאור המשפחה על האוניה
- **תוצאה:** סצנה מלאה עם כל המשפחה על האוניה ביפו

#### סצנה 2: החיים במטולה (1905-1910)
- **מ"שדות ראשונים":** תיאור המושבה, הנוף, העבודה
- **מ"בית מרקובסקי":** תיאור הבית, המשפחה, החיים היומיומיים
- **תוצאה:** סצנות מלאות של החיים במטולה

#### סצנה 3: אירועי תל-חי (1920)
- **מ"שדות ראשונים":** תיאור האירועים מהזווית של יהודה
- **מ"בית מרקובסקי":** תיאור מהזווית המשפחתית
- **תוצאה:** סצנה מלאה עם הקשר משפחתי

### קבצים שנוצרים:

1. **`scenes.json`** - סצנות נפרדות מכל ספר
2. **`merged_scenes.json`** - סצנות משולבות עם AI Prompts

### השלב הבא:

כשתגיע לשלב יצירת הוידאו, הסקריפט `generate_video.py` ישתמש ב-`merged_scenes.json` ו:
1. יקרא כל סצנה עם ה-AI Prompt שלה
2. יבחר תמונות רפרנס מתאימות
3. ייצור את הסצנה עם AI
4. יחבר את כל הסצנות לסרט אחד

---

**סיכום:** AI לא צריך לבחור בין הספרים - הוא מקבל סצנות משולבות שכוללות את כל המידע משני הספרים יחד, עם הוראות מפורטות איך ליצור כל סצנה.
