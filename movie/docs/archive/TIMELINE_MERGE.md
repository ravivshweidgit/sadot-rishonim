# מיזוג לפי ציר זמן - Timeline Merge

## מטרה

ליצור סרט כרונולוגי אחד שמשלב את שני הספרים לפי ציר זמן, כך שהקריינות משני הספרים משולבת ברצף כרונולוגי חלק.

## תהליך המיזוג

### שלב 1: יצירת ציר זמן כרונולוגי

```bash
python create_timeline_movie.py
```

**מה הסקריפט עושה:**

1. **טוען את כל הסצנות** משני הספרים
2. **ממיין לפי ציר זמן** (שנה, עמוד)
3. **מזהה סצנות מאותה תקופה** משני הספרים
4. **ממזג סצנות מאותה תקופה** לסצנה אחת עם קריינות משולבת
5. **יוצר רצף כרונולוגי** של כל הסצנות

**תוצאה:** `timeline_movie.json` - סרט כרונולוגי משולב

### שלב 2: יצירת קריינות

```bash
python generate_narration.py gtts
```

הקריינות תיווצר לפי הסדר הכרונולוגי, כך שכל סצנה משולבת תכיל קריינות משני הספרים.

### שלב 3: יצירת וידאו

```bash
python generate_video.py
```

הוידאו ייווצר לפי הסדר הכרונולוגי.

### שלב 4: חיבור לסרט

```bash
python combine_scenes.py
```

הסרט הסופי יהיה כרונולוגי, עם קריינות משולבת משני הספרים.

## דוגמה למיזוג

### לפני המיזוג:

**סצנה מ"שדות ראשונים" (1904):**
```
יהודה מור עלה ארצה כילד ב-1904...
```

**סצנה מ"בית מרקובסקי" (1904):**
```
בעיצומו של חורף תרס"ד (1904) עגנה אוניה בחוף ימה של יפו...
```

### אחרי המיזוג (ציר זמן):

**סצנה משולבת (1904):**
```
[משדות ראשונים]
יהודה מור עלה ארצה כילד ב-1904...

[מבית מרקובסקי]
בעיצומו של חורף תרס"ד (1904) עגנה אוניה בחוף ימה של יפו...
```

הקריינות תהיה רציפה, והסרט יראה את הסצנות לפי סדר כרונולוגי.

## מבנה הקריינות המשולבת

### סצנה משולבת (משני הספרים):

```
[משדות ראשונים]
יהודה מור עלה ארצה כילד ב-1904, השנה בה החלה העלייה השנייה...

[מבית מרקובסקי]
בעיצומו של חורף תרס"ד (1904) עגנה אוניה בחוף ימה של יפו.
כ־3 שבועות לפני כן הפליגה האוניה מנמל אודיסה...
```

### סצנה עצמאית (מספר אחד):

```
[משדות ראשונים]
במטולה, המושבה הצפונית, גדלתי כילד...
```

## יתרונות המיזוג לפי ציר זמן

1. **רצף כרונולוגי חלק** - הסרט מספר את הסיפור לפי סדר הזמן
2. **שילוב טבעי** - שני הספרים משולבים בצורה טבעית
3. **קריינות רציפה** - הקריינות משני הספרים זורמת יחד
4. **הקשר מלא** - כל תקופה כוללת מידע משני הספרים

## סדר העבודה המלא

```bash
# 1. חילוץ סצנות
python extract_scenes.py

# 2. מיזוג בסיסי
python merge_scenes_from_books.py

# 3. יצירת ציר זמן כרונולוגי (חדש!)
python create_timeline_movie.py

# 4. יצירת קריינות (לפי ציר הזמן)
python generate_narration.py gtts

# 5. יצירת וידאו (לפי ציר הזמן)
python generate_video.py

# 6. חיבור לסרט (לפי ציר הזמן)
python combine_scenes.py
```

## תוצאה

סרט כרונולוגי אחד שמשלב את שני הספרים:
- קריינות רציפה משני הספרים לפי ציר זמן
- וידאו מסונכרן עם הקריינות
- רצף כרונולוגי חלק מ-1900 עד 1921
